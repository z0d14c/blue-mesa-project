<section data-ng-controller="Problem">
  <h1>Problems</h1>
  <div class="" ng-show="state['start']"> 
    <div class='well'>
      <h2>Choose your difficulty</h2>
      <button ng-click="chooseDifficulty('easy')">
        <span style="color: darkgreen; ">Easy</span>
      </button>
      <button ng-click="chooseDifficulty('medium')">
        <span style="color: coral;">Medium</span>
      </button>
      <button ng-click="chooseDifficulty('hard')">
                <span style="color: darkred;">Hard</span>
      </button>
    </div>
  </div>

  <div class="well" ng-show="state['battle']" data-ng-controller='Battle'> <!-- This might need to have a sub battle controller -->
    <div class='row'>
      <div class='col-md-4'>
        <h3>You are battling a {{difficulty}} monster!</h3>
        <!-- Health bar here -->
        <p>
          <b>ID: </b>{{problem.id}}</br>
          <b>Question: </b> {{problem.question}}</br>
        </p>
        <p class='lead'>
          <b>Your Health: </b> {{player.currentHealth}}
        </p>
        <div class='input-group' id="battleForm">
          <input class='form-control' type="text" ng-model="user_attempt">
          <span class='input-group-btn'>
            <button ng-click="attempt()" class="btn btn-primary">Submit</button>
          </span>
        </div>
      </div>

      <div class='col-md-4 col-md-offset-4'>
        <img ng-src="/battle/assets/img/{{difficulty}}.png" width="200" height="200">
        <p class='lead'>
          <b>Monster's Health: </b>{{monster.health}}
        </p>
      </div>
      <!-- Display some health bar here -->
    </div>
    <div ng-show="battleState['postAnswer']">
      <button ng-click="powerAttack('critical')" class='btn btn-lg btn-danger'>Hit him critically and he hits you</button>
      <button ng-click="powerAttack('miss')" class='btn btn-lg btn-warning'>Hit him normally and he misses you</button>
    </div>
  </div>

  <div class='well' ng-show="state['success']">
    <p class='lead'>
      Congratulations! You won and gained {{monster.xp}} experience!
      
    </p>
    <p>
      <button ng-click='restart()' class='btn btn-lg btn-info'>Try again.</button>
    </p>
  </div>

  <div class='well' ng-show="state['failure']">
    <p class='lead'>
      You lost.
    </p>
    <p>
      <button ng-click='restart()' class='btn btn-lg btn-info'>Try again.</button>
    </p>
  </div>

  <div>
    <table class='table table-bordered'>
      <thead>
        <th>Activity Log</th>
      </thead>
      <tbody>
        <tr ng-repeat="value in activityLog track by $index"> <!-- Crappy activity log so we know what happens -->
          <td>{{value}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
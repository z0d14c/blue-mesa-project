<section data-ng-controller="Problem">
  <h1>Problems</h1>
  <div class="" ng-show="state['start']"> 
    <div class='well'>
      <h2>Choose your difficulty</h2>
      <button ng-click="chooseDifficulty('easy')">
        <span style="color: darkgreen; ">Easy</span>
      </button>
      <button ng-click="chooseDifficulty('medium')">
        <span style="color: coral;">Medium</span>
      </button>
      <button ng-click="chooseDifficulty('hard')">
                <span style="color: darkred;">Hard</span>
      </button>
    </div>
  </div>

  <div class="well" ng-show="state['battle']" data-ng-controller='Battle'> <!-- This might need to have a sub battle controller -->
    <div class='row'>
      <div class='col-md-4'>
        <h3>You are battling a {{difficulty}} monster!</h3>
        <!-- Health bar here -->
        <p>
          <b>ID: </b>{{problem.id}}</br>
          <b>Question: </b> {{problem.question}}</br>
        </p>
        <div class='input-group' id="battleForm">
          <input class='form-control' type="text" ng-model="user_attempt">
          <span class='input-group-btn'>
            <button ng-click="attempt()" class="btn btn-primary">Submit</button>
          </span>
        </div>
      </div>

      <div class='col-md-4 col-md-offset-4'>
        <img ng-src="/battle/assets/img/{{difficulty}}.png" width="200" height="200">
      </div>
      <!-- Display some health bar here -->
    </div>
  </div>
  <div ng-show="battleState['postAction']">
    <button ng-click="powerAttack('critical')">Hit him critically and he hits you</button>
    <button ng-click="powerAttack('miss')">Hit him normally and he misses you</button>
    <!-- <div ng-show="state['success']">
      <button ng-click="nextProblem()" class="btn btn-info">Next Problem</button>
    </div> -->
  </div>

  <div>
    <table class='table table-bordered'>
      <thead>
        <th>Activity Log</th>
      </thead>
      <tbody>
        <tr ng-repeat="value in activityLog"> <!-- Crappy activity log so we know what happens -->
          <td>{{value}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>